# tz
Реализация механики перетаскивания объектов в 2D-сцене Unity с гравитацией, размещением на полках и прокрутка сцены.

## Функциональность:

*   **Перетаскивание объектов:**  Объекты можно перетаскивать по сцене мышью (или касанием на мобильных устройствах).
*   **Гравитация:**  После отпускания объекты падают вниз под действием гравитации.
*   **Размещение на полках:** Объекты могут быть размещены на полках.  Если они падают на полку, гравитация отключается.
*   **Прокрутка камеры:** Камера может перемещаться по сцене с помощью клавиш AD/стрелок или касанием по краям экрана на мобильных устройствах.

## Технические моменты:

*   **Язык:** C#
*   **Движок:** Unity
*   **Скрипты:**
    *   `game.cs`:  Управляет перетаскиванием, гравитацией и размещением объектов.  Использует `Rigidbody2D` для физики и `Collider2D` для обнаружения столкновений.
    *   `CameraController.cs`:  Управляет движением камеры по сцене.  Поддерживает управление с клавиатуры/мыши и касания на мобильных устройствах.
*   **Глубина сцены:**  Z-координаты используются для определения глубины объектов.
*   **Управление касанием:**  Скрипт `CameraController.cs` использует `Input.touchCount` и `Input.GetTouch()` для обработки касаний на мобильных устройствах.
*   **Управление в редакторе:** Скрипт `CameraController.cs` использует эмуляцию касаний мышью для тестирования в редакторе Unity.

## Инструкция по запуску:

1.  Клонируйте репозиторий
2.  Откройте проект в Unity.
3.  Откройте сцену `Assets/Scenes/MainScene.unity`.
4.  Запустите сцену.

## Технические моменты реализации:

*   **game.cs:**
    *   Использование `Rigidbody2D` и `Collider2D` для физики и столкновений.
    *   Переключение `isKinematic` для управления физикой во время перетаскивания.
    *   Сохранение исходной Z-координаты для управления глубиной.
    *   Использование `OnMouseDown`, `OnMouseUp`, `Update` и `OnTriggerEnter2D` для управления перетаскиванием и взаимодействием с полками.
*   **CameraController.cs:**
    *   Использование директив препроцессора (`#if UNITY_ANDROID`) для платформы андройд.
    *   Использование `Input.touchCount` и `Input.GetTouch()` для обработки касаний на мобильных устройствах.
    *   Использование `Input.mousePosition` для эмуляции касаний в редакторе.
    *   Ограничение движения камеры с помощью `Mathf.Clamp`.
